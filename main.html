<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Typing Tutor</title>
  </head>
  <body>
    <style>
      body { font-size: 22px; }
      #typedtext { color: green; }
      #wrongtext { color: red; }
      #untypedtext { color: black; }
      #currentletter {
        color: white;
        font-weight: bold;
        background-color: green;
      }
      div { float: left; }
    </style>
    <form action="">
      <textarea name="textarea" id="textbox" rows="15" cols="100">Enter the text you want to practice typing!</textarea><br/>
      <input type="button" id="submitButton" value="Start practicing"/>
    </form>
    <br />
    <div id="typedtext"></div><div id="currentletter"></div><div id="untypedtext"></div>
    <script>

      let butt = document.getElementById("submitButton");
      let untypedText = "";
      let typedText = "";
      let currentLetter = "";

      butt.addEventListener('click', function(event) {
        debugger
        untypedText = document.getElementById("textbox").value;
        currentLetter = untypedText[0];
        untypedText = untypedText.slice(1);
        document.getElementById("currentletter").innerHTML = currentLetter;
        document.getElementById("untypedtext").innerHTML = untypedText;
        document.getElementById("textbox").value = "Enter the text you want to practice typing!";
      });

      function keyDownHandler(e) {
        debugger
        let str = String.fromCharCode(e.keyCode);
        if (str.toLowerCase() === currentLetter.toLowerCase()) {
          debugger
          typedText += currentLetter;
          currentLetter = untypedText[0];
          untypedText = untypedText.slice(1);
          document.getElementById("typedtext").innerHTML = typedText;
          document.getElementById("currentletter").innerHTML = currentLetter;
          document.getElementById("untypedtext").innerHTML = untypedText;
        }
      }

      document.addEventListener("keydown", keyDownHandler, false);

    </script>
  </body>
</html>
